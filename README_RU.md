[English version](README.md)

# üè® –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ–ª–µ–π

**Hotel Booking System** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ backend-—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ–ª–µ–π —Å REST API, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–º —Ä–æ–ª—å CMS-–ø–∞–Ω–µ–ª–∏, —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, CSV-–æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é –∏ Kafka –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–µ–ª—è–º–∏, –Ω–æ–º–µ—Ä–∞–º–∏, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏, —Ä–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø –∏ —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ MongoDB.

---

## üîç –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–æ–ª—è–º–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–µ–ª–µ–π, –Ω–æ–º–µ—Ä–æ–≤ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –†–æ–ª–µ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Admin/User) —Å Basic Auth
- REST API –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ CMS-–ø–∞–Ω–µ–ª–∏
- Kafka –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ–±—ã—Ç–∏–π **UserRegistrationEvent** –∏ **BookingEvent**
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ MongoDB
- –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DTO –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** Java 17+, Spring Boot, Spring Data JPA, MapStruct, Validation
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL (–æ—Å–Ω–æ–≤–Ω–∞—è), MongoDB (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- **–ú–µ—Å—Å–µ–¥–∂–∏–Ω–≥:** Kafka
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** Spring Security, Basic Auth
- **DevOps:** Docker, Docker Compose
- **–£—Ç–∏–ª–∏—Ç—ã:** Lombok, Maven

---

## üß© –°—É—â–Ω–æ—Å—Ç–∏

- **User, Role, RoleType** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏
- **Hotel, Room, Booking** ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **StatisticsDocument** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CSV

---

## üßæ REST API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª–∏ | DTO |
|-------|-----|----------|------|-----|
| GET | `/api/users` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ADMIN | UserListResponse |
| GET | `/api/users/profile` | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ADMIN, USER | String |
| GET | `/api/users/{id}` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID | ADMIN, USER | UserResponse |
| POST | `/api/users/account` | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ª—é–±–æ–π | UserRequest ‚Üí UserResponse |
| PUT | `/api/users/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ADMIN, USER | UserRequest ‚Üí UserResponse |
| DELETE | `/api/users/{id}` | –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ADMIN, USER | ‚Äî |

### –û—Ç–µ–ª–∏
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª–∏ | DTO |
|-------|-----|----------|------|-----|
| GET | `/api/hotels` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ—Ç–µ–ª–∏ | ADMIN | ListHotelResponse |
| GET | `/api/hotels/filter` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–µ–ª–µ–π | ADMIN, USER | HotelFilter ‚Üí PageResponse<HotelResponse> |
| GET | `/api/hotels/{id}` | –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–µ–ª—å –ø–æ ID | ADMIN, USER | HotelResponse |
| POST | `/api/hotels` | –°–æ–∑–¥–∞—Ç—å –æ—Ç–µ–ª—å | ADMIN | HotelRequest ‚Üí HotelResponse |
| PUT | `/api/hotels/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–µ–ª—å | ADMIN | HotelRequest ‚Üí HotelResponse |
| DELETE | `/api/hotels/{id}` | –£–¥–∞–ª–∏—Ç—å –æ—Ç–µ–ª—å | ADMIN | ‚Äî |
| POST | `/api/hotels/review/{id}` | –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ | –ª—é–±–æ–π | RatingDTO ‚Üí HotelResponse |

### –ù–æ–º–µ—Ä–∞
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª–∏ | DTO |
|-------|-----|----------|------|-----|
| GET | `/api/rooms/{id}` | –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –ø–æ ID | ADMIN, USER | RoomResponse |
| GET | `/api/rooms/filter` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ | ADMIN, USER | RoomFilter ‚Üí PageResponse<RoomResponse> |
| POST | `/api/rooms` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–º–µ—Ä | ADMIN | RoomRequest ‚Üí RoomResponse |
| PUT | `/api/rooms/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –Ω–æ–º–µ—Ä | ADMIN | RoomRequest ‚Üí RoomResponse |
| DELETE | `/api/rooms/{id}` | –£–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä | ADMIN | ‚Äî |

### –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª–∏ | DTO |
|-------|-----|----------|------|-----|
| POST | `/api/bookings` | –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | ADMIN, USER | BookingRequest ‚Üí BookingResponse |
| GET | `/api/bookings` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | ADMIN | ListBookingResponse |

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –†–æ–ª–∏ | DTO |
|-------|-----|----------|------|-----|
| GET | `/statistics/csv` | –°–∫–∞—á–∞—Ç—å CSV —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ADMIN | CSV —Ñ–∞–π–ª (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ StatisticsDocument) |

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Controllers** ‚Äî REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è API
- **DTO** ‚Äî –∫–ª–∞—Å—Å—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ (User, Hotel, Room, Booking, Statistics, Errors)
- **Services** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- **Mappers** ‚Äî MapStruct –º–∞–ø–ø–µ—Ä—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ DTO
- **Repositories** ‚Äî Spring Data JPA / Mongo —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- **Security** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø
- **Kafka** ‚Äî –ø—Ä–æ–¥—é—Å–µ—Ä—ã –∏ –∫–æ–Ω—Å—å—é–º–µ—Ä—ã –¥–ª—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **application.yaml** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, Kafka –∏ CSV-—ç–∫—Å–ø–æ—Ä—Ç–∞.

–ü—Ä–∏–º–µ—Ä `application.yaml`:

```yaml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/hotel
    username: postgres
    password: password
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false

kafka:
  bootstrap-servers: localhost:9092
  user-topic: user-events
  booking-topic: booking-events

mongodb:
  uri: mongodb://localhost:27017/statistics
```
## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `server.port` ‚Äî –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `spring.datasource.*` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `spring.jpa.hibernate.ddl-auto` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `kafka.*` ‚Äî Kafka topics –∏ bootstrap server
- `mongodb.uri` ‚Äî MongoDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17+
- Maven
- PostgreSQL
- MongoDB
- Kafka
- Docker & Docker Compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone <REPO_URL>
cd <PROJECT_FOLDER>
```
### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL, MongoDB –∏ Kafka –≤ `application.yaml`.

2. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

```bash
mvn clean install
mvn spring-boot:run
```
### –î–æ—Å—Ç—É–ø –∫ API

[http://localhost:8080](http://localhost:8080)

---

### ‚ö° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **DTO**.
- Kafka —Å—Ç—Ä–∏–º–∏—Ç **UserRegistrationEvent** –∏ **BookingEvent**.
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ **MongoDB** –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ CSV.
- –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ **Admin/User**.
- –û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –µ–¥–∏–Ω–æ–≥–æ JSON —á–µ—Ä–µ–∑ **ExceptionController**.